import { ExternalProfile, Profile } from '../../../utils/src/types/profile';
import { Message } from '../../../utils/src/types/message';
import { Plugin } from './abstract';
/** List of available gateways for decentralised storage */
export declare const defaultGateways: {
    'ipfs://': string;
    'swarm://': string;
};
/** Transform the URL to use a gateway if decentralised storage is specified */
export declare function transformUrl(url: string): string;
export declare abstract class ExternalPlugin extends Plugin {
    protected loaded: boolean;
    protected id: number;
    protected pendingRequest: Record<number, (result: any, error: Error | string) => void>;
    profile: Profile & ExternalProfile;
    constructor(profile: Profile & ExternalProfile);
    protected abstract postMessage(message: Partial<Message>): void;
    deactivate(): void;
    /** Call a method from this plugin */
    protected callPluginMethod(key: string, payload?: any[]): Promise<any>;
    /** Perform handshake with the client if not loaded yet */
    protected handshake(): Promise<void>;
    /**
     * React when a message comes from client
     * @param message The message sent by the client
     */
    protected getMessage(message: Message): Promise<void>;
}
